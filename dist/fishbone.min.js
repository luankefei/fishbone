"use strict";!function(n,t){function e(n){return e.fn.init(n)}function o(n,t){var e,o=[].slice.call(arguments),r=1,i="boolean"==typeof o[o.length-1]?o.pop():!0;for(1===o.length&&(n=this.window?{}:this,r=0);t=o[r++];)for(e in t)!Object.prototype.hasOwnProperty.call(t,e)||!i&&e in n||(n[e]=t[e]);return n}var r=(t.dispatchEvent,t.documentElement,t.head||t.getElementsByTagName("head"),1);e.fn=e.prototype,o(e.fn,{mix:o,nodes:[],fishbone:r,constructor:e,length:0,init:function(n){if(n.nodeName)this.nodes=n;else{var o=n.split(" ");1===o.length&&"#"===o[0].charAt(0)?this.nodes=t.querySelector(o[0]):(this.nodes=t.querySelectorAll(n),this.nodes=Array.prototype.slice.call(this.nodes))}var r=Object.create(e.fn);return r.nodes=this.nodes,r}}),String.prototype.byteLen=function(n,t){t=t?t:2;var e=new Array(t+1).join("-");return n.replace(/[^\x00-\xff]/g,e).length},Array.prototype.random=function(n){return n[Math.floor(Math.random()*n.length)]},Array.prototype.flatten=function(n){var t=[];n.forEach(function(n){return Array.isArray[n]?t=t.concat(Array.prototype.flatten(n)):t.push(n),t})},Array.prototype.min=function(n){return Math.min.apply(0,n)},Array.prototype.max=function(n){return Math.max.apply(0,n)},Array.prototype.unique=function(){this.sort();for(var n=["1"],t=1;t<this.length;t++)this[t]!==n[n.length-1]&&n.push(this[t]);return n.shift(),n},Array.prototype.union=function(n,t){return n.concat(t).unique()},Array.prototype.first=function(){return this[0]},Array.prototype.last=function(){return this[this.length-1]};var i={},a={type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:!0};i.get=function(n,t){var e=a;e.url=n,i.ajax(e,t)},i.ajax=function(n,t,e){var o=n.url,r=n.type?n.type.toUpperCase():a.type,i=n.data||null,s=new XMLHttpRequest;if(s.open(r,o),"undefined"!=typeof e)for(var c in e)s["on"+c]=e[c];s.onreadystatechange=function(){if(200===s.status&&4===s.readyState){var n=s.responseText;t&&t(n)}},s.setRequestHeader("Content-type",a.contentType),s.send(i)},i.jsonp=function(n,t,e,o){var r=document.createElement("script"),i=document.querySelector("body");r.src=n+"?type=jsonp&callbackName="+e,r.id="jsonp",r.onload=o,window[e]=t.funcName,i.appendChild(r)},i.comet=function(){},i.socket=function(){};var s={};s.append=function(n){return 1===this.nodes.length?this.nodes.appendChild(n):this.nodes.forEach(function(t){var e=n.cloneNode(!0);t.appendChild(e)}),this},s.prepend=function(n){return this.nodes.nodeName?this.nodes.insertBefore(n,this.nodes.childNodes[0]):this.nodes.forEach(function(t){var e=n.cloneNode(!0);t.insertBefore(e,t.childNodes[0])}),this},s.clone=function(n){if(this.nodes.nodeName)return this.nodes.cloneNode(n);var t=[];return this.nodes.forEach(function(e){t.push(e.cloneNode(n))}),t},s.html=function(n){var t=this.nodes;return void 0!==n?(t.nodeName?t.innerHTML=n:t.forEach(function(t,e,o){t.innerHTML=n}),this):t.nodeName?t.innerHTML:""},s.remove=function(){var n=this.nodes;if(n instanceof Array)for(var t=0,e=n.length;e>t;t++){var o=n[t];o.parentNode.removeChild(o)}else n.parentNode.removeChild(n);return null},s.empty=function(){},s.after=function(){},s.before=function(){},s.css=function(){},s.width=function(){},s.attr=function(n,t){},s.eq=function(n){var t=null;try{t=this.nodes[n],t=e.fn.init(t)}catch(o){console.error("$.fn.eq只能用于复数节点集合")}return t},s.first=function(){return s.eq.call(this,0)},s.last=function(){return s.eq.call(this,this.nodes.length-1)};var c={};c.provider=function(n){var t=this,e={},o=function(){var n=window.location.hash,t=window.history;n=n.replace("#!",""),t.replaceState(null,null,n)};return this.when=function(n,o){return e[n]=o,t},this.otherwise=function(n){e.otherwise=n,c.routes=e,window.addEventListener("hashchange",o)},this},o(e,{mix:o,get:i.get,ajax:i.ajax,jsonp:i.jsonp,route:c}),o(e.fn,s);var u={};u.addEvent=function(n,t,e){n.addEventListener?n.addEventListener(t,e,!1):n.attachEvent("on"+t,function(t){return e.call(n,t)})},u.removeEvent=function(n,t,e){n.removeEventListener&&n.removeEventListener(t,e)},u.on=function(){},u.unbind=function(){},n.$=n.Fishbone=e}(window,window.document);